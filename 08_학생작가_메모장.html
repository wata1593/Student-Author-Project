<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ì‘í’ˆí™œë™</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --container-bg: #ffffff;
            --primary-color: #6366f1;
            --accent-color: #4f46e5;
            --text-color: #333;
            --border-color: #e5e7eb;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .notebook {
            width: 100%;
            max-width: 800px;
            background: var(--container-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            min-height: 90vh;
        }

        header {
            border-bottom: 2px solid var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .meta-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        input[type="text"],
        input[type="date"] {
            border: 1px solid var(--border-color);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        /* ë©”ëª¨ ì˜ì—­ */
        #note-content {
            width: 100%;
            min-height: 400px;
            border: 1px dashed var(--border-color);
            padding: 20px;
            margin-top: 10px;
            border-radius: 12px;
            outline: none;
            line-height: 1.6;
            font-size: 1.1rem;
            box-sizing: border-box;
        }

        #note-content:focus {
            border-color: var(--primary-color);
            background-color: #f9faff;
        }

        /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìŠ¤íƒ€ì¼ */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 10px 0;
        }

        /* íˆ´ë°” ë° ë²„íŠ¼ */
        .toolbar {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-pdf {
            background-color: #ef4444;
            color: white;
        }

        .btn-pdf:hover {
            background-color: #dc2626;
        }

        .btn-img {
            background-color: #10b981;
            color: white;
        }

        .btn-img:hover {
            background-color: #059669;
        }

        .btn-clear {
            background-color: #6b7280;
            color: white;
        }

        .tip {
            margin-top: 15px;
            font-size: 0.85rem;
            color: #666;
            background: #eee;
            padding: 10px;
            border-radius: 8px;
        }

        /* PDF ì¶œë ¥ ì‹œ ë²„íŠ¼ ì œì™¸ */
        @media print {

            .toolbar,
            .tip,
            #imageInput {
                display: none;
            }
        }
    </style>
</head>

<body>
    <a href="index.html"
        style="position: absolute; top: 15px; left: 15px; z-index: 9999; text-decoration: none; background-color: rgba(255, 255, 255, 0.8); padding: 5px 10px; border-radius: 5px; font-weight: bold; color: #333; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">ğŸ 
        í™ˆìœ¼ë¡œ</a>

    <div class="notebook" id="capture-area">
        <header>
            <h1>ğŸ“ ì˜¤ëŠ˜ì˜ ì‘í’ˆí™œë™</h1>
            <input type="date" id="current-date">
        </header>

        <div class="meta-info">
            <input type="text" id="subject" placeholder="ì‘ê°€ì´ë¦„">
            <input type="text" id="topic" placeholder="ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ í•œ ì¤„ ìš”ì•½">
        </div>

        <div id="note-content" contenteditable="true" placeholder="ì´ê³³ì— ë‚´ìš©ì„ ì…ë ¥í•˜ê±°ë‚˜, ì´ë¯¸ì§€ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!">
            ì˜¤ëŠ˜ì€ ì–´ë–¤ ì •ë³´ë¥¼ ìˆ˜ì§‘í–ˆë‚˜ìš”? </div>

        <input type="file" id="imageInput" accept="image/*" style="display: none;">

        <div class="toolbar">
            <button class="btn btn-img" onclick="document.getElementById('imageInput').click()">ğŸ–¼ï¸ ì´ë¯¸ì§€ ì¶”ê°€</button>
            <button class="btn btn-pdf" onclick="saveAsPDF()">ğŸ“„ PDFë¡œ ì €ì¥í•˜ê¸°</button>
            <button class="btn btn-clear"
                onclick="if(confirm('ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš¸ê¹Œìš”?')) document.getElementById('note-content').innerHTML = ''">ğŸ§¹
                ì´ˆê¸°í™”</button>
        </div>

        <div class="tip">
            ğŸ’¡ <b>Tip:</b> ì¸í„°ë„· ê¸°ì‚¬ë‚˜ ì´ë¯¸ì§€ë¥¼ ë³µì‚¬(Ctrl+C)í•œ ë’¤ ë©”ëª¨ì¥ì— ë¶™ì—¬ë„£ê¸°(Ctrl+V) í•  ìˆ˜ ìˆì–´ìš”!
        </div>
    </div>

    <script>
        // ì˜¤ëŠ˜ ë‚ ì§œ ìë™ ì„¤ì •
        document.getElementById('current-date').valueAsDate = new Date();

        // ì´ë¯¸ì§€ íŒŒì¼ ì„ íƒ ì‹œ ë³¸ë¬¸ì— ì‚½ì…
        document.getElementById('imageInput').addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (event) {
                    const img = document.createElement('img');
                    img.src = event.target.result;
                    document.getElementById('note-content').appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        });

        // PDF ì €ì¥ í•¨ìˆ˜
        function saveAsPDF() {
            const element = document.getElementById('capture-area');
            const subject = document.getElementById('subject').value || 'MyNote';

            // PDF ë³€í™˜ ì˜µì…˜ ì„¤ì •
            const opt = {
                margin: 10,
                filename: `${subject}_í•™ìŠµë…¸íŠ¸.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            // ë²„íŠ¼ë“¤ì„ ì ì‹œ ìˆ¨ê²¼ë‹¤ê°€ PDF ìƒì„± í›„ ë³µêµ¬
            const toolbar = document.querySelector('.toolbar');
            const tip = document.querySelector('.tip');
            toolbar.style.visibility = 'hidden';
            tip.style.visibility = 'hidden';

            html2pdf().set(opt).from(element).save().then(() => {
                toolbar.style.visibility = 'visible';
                tip.style.visibility = 'visible';
            });
        }

        // ë¶™ì—¬ë„£ê¸° ì‹œ ì„œì‹ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬ (ì„ íƒ ì‚¬í•­)
        document.getElementById('note-content').addEventListener('paste', function (e) {
            // í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ ë¶™ì—¬ë„£ê¸°ëŠ” ê¸°ë³¸ ê¸°ëŠ¥ì„ í—ˆìš©í•˜ë˜, 
            // ì™¸ë¶€ ì›¹ì‚¬ì´íŠ¸ì˜ ë³µì¡í•œ ë ˆì´ì•„ì›ƒì´ ê¹¨ì§€ì§€ ì•Šê²Œ ë³´ì¡´í•©ë‹ˆë‹¤.
        });
    </script>

</body>

</html>